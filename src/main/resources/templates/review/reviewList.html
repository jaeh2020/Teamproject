<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layout/default}">

<th:block layout:fragment="customTitle">
	<title th:text="${title}"></title>
</th:block>
<th:block layout:fragment="customJs">

	<script th:src="@{/js/lib/datatables/datatables.min.js}"></script>
    <script th:src="@{/js/lib/datatables/cdn.datatables.net/buttons/1.2.2/js/dataTables.buttons.min.js}"></script>
    <script th:src="@{/js/lib/datatables/cdn.datatables.net/buttons/1.2.2/js/buttons.flash.min.js}"></script>
    <script th:src="@{/js/lib/datatables/cdnjs.cloudflare.com/ajax/libs/jszip/2.5.0/jszip.min.js}"></script>
    <script th:src="@{/js/lib/datatables/cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/pdfmake.min.js}"></script>
    <script th:src="@{/js/lib/datatables/cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/vfs_fonts.js}"></script>
    <script th:src="@{/js/lib/datatables/cdn.datatables.net/buttons/1.2.2/js/buttons.html5.min.js}"></script>
    <script th:src="@{/js/lib/datatables/cdn.datatables.net/buttons/1.2.2/js/buttons.print.min.js}"></script>
    <script th:src="@{/js/lib/datatables/datatables-init.js}"></script>
    
</th:block>

<!-- contents layout:fragment 정의 -->
<th:block layout:fragment="customContents">
	<div class="row">
		<div class="col-12">
			 <div class="card">
			 	<form th:action="@{/review/reviewList}" method="post" id="reviewListForm">
		                       <div class="card-body">
		                <div class="table-responsive m-t-40">
		                    <table id="myTable" class="table table-bordered table-striped">
		                        <thead>
		                            <tr>
		                                <th>리뷰번호</th>
		                                <th>매장이름</th>
		                                <th>리뷰작성자</th>
		                                <th>평점</th>	                                                              	                              	                                                              	                                                                                         	                              	                                                              	                               
		                                <th data-orderable="false">리뷰 내용</th>
		                                <th>리뷰작성완료일시</th>
		                                <th>진행 상태</th>
		                                <th data-orderable="false">삭제</th>
		                            </tr>
		                        </thead>
		                        <tbody>
		                        	<tr th:each="r : ${reviewList}">
			                            <td th:text="${r.reviewNum}"></td>
			                            <td th:text="${r.storeSearch.storeName}"></td>
			                            <td th:text="${r.memberId}"></td>
			                            <td th:text="${r.ReviewScore.reviewScore}"></td>
			                            <td><a type="button" class="btn btn-dark btn-outline ti-search" th:href="@{/review/reviewView(reviewNum=${r.reviewNum})}"></a></td>
			                            <td th:text="${r.reviewComTime}"></td>
			                            <td th:text="${r.stateCode}"></td>        
			                            <td><a href="#none;" class="deleteBtn btn btn-danger btn-outline ti-trash text-white" id="reviewDelBtn" th:onclick="reviewDel([[${r.reviewNum}]]);"></a></td>
		                            </tr>
		                        </tbody>
		                    </table>
		                </div>
		            </div>
	            </form>
	        </div>
		</div>
	</div>
</th:block>

<th:block layout:fragment="customJsLib">
	<Script type="text/javascript">
		//삭제버튼 alert창
	   function reviewDelBtn(reviewNum){
	   		if(confirm("정말 삭제하시겠습니까?")){
	   			location.href = '/review/reviewDelete?reviewNum='+reviewNum;
	   			return true;
	   		}else{
	   			return false;
	   		}
	   		
	   	}
	</Script>




	<!-- <script src="js/lib/owl-carousel/owl.carousel.min.js"></script>
	<script src="js/lib/owl-carousel/owl.carousel-init.js"></script> -->	    
</th:block>



</html>