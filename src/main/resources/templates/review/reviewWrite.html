OCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layout/default}">
<th:block layout:fragment="customTitle">
	<title th:text="${title}"></title>
	
<style type= "text/css">
.star-rating {
  display: flex;
  flex-direction: row-reverse;
  font-size: 2.25rem;
  line-height: 2.5rem;
  justify-content: space-around;
  padding: 0 0.2em;
  text-align: center;
  width: 5em;
}
 
.star-rating input {
  display: none;
}
 
.star-rating label {
  -webkit-text-fill-color: transparent; /* Will override color (regardless of order) */
  -webkit-text-stroke-width: 2.3px;
  -webkit-text-stroke-color: #2b2a29;
  cursor: pointer;
}
 
.star-rating :checked ~ label {
  -webkit-text-fill-color: gold;
}
 
.star-rating label:hover,
.star-rating label:hover ~ label {
  -webkit-text-fill-color: #fff58c;
}
	
</style>
</th:block>


<!-- contents layout:fragment 정의 -->
<th:block layout:fragment="customContents">
		<div class="row">
			<div class="col-lg-6 offset-lg-3 mr-auto lg-auto">
				<div class="card-header user-header alt bg-white">
					<div class="card">
						<div class="card-body"> 
							<p>
								<font style="font-weight: bold; font-size: 20px;"><i class="fa fa-check"></i> 가게명 : [[${order[0].storeSearch.storeName}]] </font>
							</p>
							<p>
								<font style="font-weight: bold; font-size: 20px;"><i class="fa fa-cutlery"></i> 주문한 음식 : [[${order[0].menu.menuName}]]..</font>
							</p>
						 </div>
					</div>
				</div>
			</div>
		</div>
		<form th:action="@{/review/reviewWrite}" role="form" id="reviewForm" method="post">
			<!-- 히든영역 -->
			<input type="hidden" name="stateCode" th:value="${statement.stateCode}">
			<input type="hidden" name="bookCode" th:value="${bookList.bookCode}">
			<input type="hidden" name="storeCode" th:value="${bookList.storeCode}">
			<input type="hidden" name="payComTime" th:value="${bookList.bookCompTime}">
			
			<div class="row">
				<div class="col-lg-6 offset-lg-3 mr-auto lg-auto" style="padding-top: 20px;">
					<div class="row">
						<div class="col-lg-4 col-form-label">
							<section class="card" style="text-align: center; font-weight: bold; font-size: 18px;">
								<div class="card-body text-secondary"><span class="text-danger">*</span> 작성자 ID</div>
							</section>
						</div>
						<div class="col-lg-8">
							<section class="card">
								<div class="card-body text-secondary">
									<input type="text" name="memberId" style="border-style: none; height: 32px; font-size: 16px; font-weight: bold;" th:value="${memberId}" readonly="readonly">
								</div>
							</section>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-lg-6 offset-lg-3 mr-auto lg-auto">
					<section class="card" style="height: calc(100% - 50px; ) padding: none;">
						<div class="card-body text-secondary" style="text-align: center; font-weight: bold;  padding-bottom: 10px; font-size: 20px;">
							<span class="text-danger">*</span> 상품에 만족하셨나요?
						</div>
						<div style="font-size: 45px; text-align: center;" >
							<div class="star-rating space-x-4 mx-auto">
								<input type="radio" id="5-stars" name="scoreCode" value="sc_5" />
									<label for="5-stars" class="star pr-4">★</label>
								<input type="radio" id="4-stars" name="scoreCode" value="sc_4" />
									<label for="4-stars" class="star">★</label>
								<input type="radio" id="3-stars" name="scoreCode" value="sc_3" />
									<label for="3-stars" class="star">★</label>
								<input type="radio" id="2-stars" name="scoreCode" value="sc_2" />
									<label for="2-stars" class="star">★</label>
								<input type="radio" id="1-star" name="scoreCode" value="sc_1" />
									<label for="1-star" class="star">★</label>
							</div>
						</div>
						<div class="card-body text-secondary"
							style="text-align: center; font-weight: bold; font-size: 16px; padding-top: 10px; font-size: 18px;">선택하세요.</div>
					</section>
				</div>
			</div>
		
		
		
			<div class="row">
				<div class="col-lg-6 offset-lg-3 mr-auto lg-auto">
					<div style="border: 1px solid #000; border-style: none; font-weight: bold; font-size: 20px; padding-bottom: 10px; padding-top: 20px;">
						<span class="text-danger">*</span> 상세한 후기를 적어주세요.
					</div>
					<div>
						<textarea class="form-control" name="reviewContents" rows="3" style="height: 300px;" placeholder="저희 가게를 이용하신 후기를 15이상 남겨주시면 다른 방문자들에게도 도움이 됩니다." onsubmit="return mySubmit1(this)"></textarea>
					</div>
				</div>
			</div>
		
			<div class="row">
				<div class="col-lg-6 offset-lg-3 mr-auto lg-auto">
					<div style="border: 1px solid #000; border-style: none; font-weight: bold; font-size: 20px; padding-bottom: 10px; padding-top: 25px;">사진을 올려주세요. (선택)</div>
					<div class="btn btn-link btn-lg btn-block btn btn-outline-gray" style="background-color: white; padding: 20px;">
						<i class="fa fa-camera" style="padding-right: 15px; font-size: 30px;"></i> 
						 <input type="file" name="imageFile" size=40 >
					</div>
					<div style="border: 1px solid #000; border-style: none; font-size: 15px; padding-bottom: 40px; color: gray;">
						* 사진첨부 시 개인정보가 노출되지 않도록 유의해주세요.
					</div>
				</div>
			</div>
		
		
			<div class="row">
				<div class="col-lg-6 offset-lg-3 mr-auto lg-auto">
					<div class="row">
						<div class="col-lg-6 col-xs-6">
							<a th:href="@{/book/bookMyOrderList}"class="btn btn-secondary btn-lg btn-block" style="font-weight: bold; font-size: 18px; margin-bottom: 30px;" >취소</a>
						</div>
		
						<div class="col-lg-6 col-xs-6">
							<button type="button" class="btn btn-secondary btn-lg btn-block"  style="font-weight: bold; font-size: 18px;" id="reviewComBtn">작성완료</button>
						</div>
					</div>
				</div>
			</div>
		</form>
		

</th:block>					

<!--Custom JavaScript -->
<th:block layout:fragment="customJsLib">
	<!-- <script src="js/lib/owl-carousel/owl.carousel.min.js"></script>
    <script src="js/lib/owl-carousel/owl.carousel-init.js"></script> -->
	<script type="text/javascript">
	$(function(){
      	$('#reviewComBtn').on('click',function(){
      		
      		var scoreCode = $('[name=scoreCode]')
      		var reviewContents = $('[name=reviewContents]')
     
      		if(scoreCode.val() == ''){
				alert('평점을 등록해주세요.')
				scoreCode.focus();
      			return false;
      		}else if(reviewContents.val() == ''){
				alert('리뷰를 작성해주세요.')
				reviewContents.focus();
	  			return false;
      		}	
		  		alert('리뷰를 등록하시겠습니까?')
	      		$('#reviewForm').submit();
      	});	
	});
	</script>

    
</th:block>
</body>
</html> 