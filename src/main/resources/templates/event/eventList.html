<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layout/default2}">

<th:block layout:fragment="customCss">
	<style type="text/css">
		.eventBan{
			height: 130px;
			width: 100%;
		}
		.badge{
			padding: 10px;
		    width: 120px;
		    height: 30px;
		    text-align: center;
		    font-size: small;
		}
		.filterBtn{
			text-align: right;	
		}
		#totalBtn{
			width: 130px;
		}
		.card{

			margin: 0px!important;
		}

	</style>
</th:block>
<th:block layout:fragment="customTitle">
	<title th:text="${title}"></title>
</th:block>

<!-- contents layout:fragment 정의 -->
<th:block layout:fragment="customContents">
		<div class="filterBtn">
			<button type="button" class="btn btn-primary" id="totalBtn"> 전체 </button>
			<button type="button" class="btn btn-primary" id="ingBtn"> 진행중인 이벤트 </button>
			<button type="button" class="btn btn-primary" id="finBtn"> 종료된 이벤트 </button>
		</div>
		<div class="row justify-content-center">
			<th:block th:each="e : ${eventList}">
				<div class="card col-md-6" th:name="${e.stateCode}">
					<div>
						<span th:if="${e.stateCode == 'state_event_ing'}" class="badge badge-success">[[${e.stateName}]]</span>
						<span th:unless="${e.stateCode == 'state_event_ing'}" class="badge badge-danger">[[${e.stateName}]]</span>
						<span class="badge"><p>[[${e.eventStr}]] ~ [[${e.eventFin}]]</p></span>
					</div>
					<a th:href="@{/event/eventDetail(eventCode=${e.eventCode})}">
						<img class="eventBan" th:alt="${e.eventName}" th:src="@{/images/event/} + ${e.bannerStoredPath}">
					</a>
				</div>
			</th:block>
		</div>
</th:block>

<th:block layout:fragment="customJsLib">
    
    <script type="text/javascript">
		$(function(){
			$('#totalBtn').on("click", function(){
				$('.card').show();
			});
			$('#finBtn').on("click", function(){
				$('.card').not('[name="state_event_end"]').hide();
				$('[name="state_event_end"]').show();
			});
			$('#ingBtn').on("click", function(){
				$('.card').not('[name="state_event_ing"]').hide();
				$('[name="state_event_ing"]').show();
			});
		});
    </script>
	
    
</th:block>
</html>