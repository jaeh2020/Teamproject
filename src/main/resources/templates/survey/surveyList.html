<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layout/default}">
<th:block layout:fragment="customCss">
</th:block>
<th:block layout:fragment="customTitle">
	<title th:text="${title}"></title>
</th:block>
<th:block layout:fragment="customJs">

	<script th:src="@{/js/lib/datatables/datatables.min.js}"></script>
    <script th:src="@{/js/lib/datatables/cdn.datatables.net/buttons/1.2.2/js/dataTables.buttons.min.js}"></script>
    <script th:src="@{/js/lib/datatables/cdn.datatables.net/buttons/1.2.2/js/buttons.flash.min.js}"></script>
    <script th:src="@{/js/lib/datatables/cdnjs.cloudflare.com/ajax/libs/jszip/2.5.0/jszip.min.js}"></script>
    <script th:src="@{/js/lib/datatables/cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/pdfmake.min.js}"></script>
    <script th:src="@{/js/lib/datatables/cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/vfs_fonts.js}"></script>
    <script th:src="@{/js/lib/datatables/cdn.datatables.net/buttons/1.2.2/js/buttons.html5.min.js}"></script>
    <script th:src="@{/js/lib/datatables/cdn.datatables.net/buttons/1.2.2/js/buttons.print.min.js}"></script>
    <script th:src="@{/js/lib/datatables/datatables-init.js}"></script>
    
</th:block>
<!-- contents layout:fragment 정의 -->
<th:block layout:fragment="customContents">
	<div class="row">
		<div class="col-12">
			 <div class="card">
	            <div class="card-body">
	                <div class="table-responsive m-t-40">
	                    <table id="myTable" class="table table-bordered table-striped">
	                        <thead>
	                            <tr>
	                                <th>생성코드</th>
	                                <th>모집코드</th>
	                                <th>매장명</th>
	                                <th>제목</th>                                	                               
	                                <th>참여인원</th>
	                                <th data-orderable="false">결과보기</th>
	                                <th>진행상태</th>
	                                <th>생성일시</th>
	                                <th data-orderable="false">삭제</th>
	                            </tr>
	                        </thead>
	                        <tbody>
	                        	<tr th:each="l : ${surveyList}">
		                            <td th:text="${l.createCode}"></td>
		                            <td th:text="${l.recruitBBCode}"></td>
		                            <td th:text="${l.store.storeName}"></td>
		                            <td th:text="${l.recruitTasterByBiz.surveyTitle}"></td>
		                            <td th:text="${l.numOfParti}"></td>
		                            <td><button type="button" class="btn btn-dark btn-outline ti-search"></button></td>
		                            <td th:text="${l.state}"></td>
		                            <td th:text="${l.regTime}"></td>
		                             <td><a type="button" th:href = "@{/survey/deleteSurvey(surveyCode=${l.createCode})}" class="deleteBtn btn btn-danger btn-outline ti-trash text-white" ></a></td>
	                            </tr>
	                        </tbody>
	                    </table>
	                </div>
	            </div>
	        </div>
		</div>
	</div>
	 

</th:block>
<!-- End PAge Content -->
			
 <!--Custom JavaScript -->
<th:block layout:fragment="customJsLib">
	
	<script type="text/javascript">
		$(function(){
			$('.deleteBtn').on("click", function(){
				var result = confirm('정말 삭제하시겠습니까?');
				if(result){
					alert('삭제되었습니다.');
					return true;
				}
				else return false;
			});
		});
	</script>

</th:block>
    
    
</body>
</html>