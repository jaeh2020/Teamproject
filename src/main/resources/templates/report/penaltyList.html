<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layout/default}">

<th:block layout:fragment="customTitle">
	<title th:text="${title}"></title>
</th:block>
<th:block layout:fragment="customJs">

	<script th:src="@{/js/lib/datatables/datatables.min.js}"></script>
    <script th:src="@{/js/lib/datatables/cdn.datatables.net/buttons/1.2.2/js/dataTables.buttons.min.js}"></script>
    <script th:src="@{/js/lib/datatables/cdn.datatables.net/buttons/1.2.2/js/buttons.flash.min.js}"></script>
    <script th:src="@{/js/lib/datatables/cdnjs.cloudflare.com/ajax/libs/jszip/2.5.0/jszip.min.js}"></script>
    <script th:src="@{/js/lib/datatables/cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/pdfmake.min.js}"></script>
    <script th:src="@{/js/lib/datatables/cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/vfs_fonts.js}"></script>
    <script th:src="@{/js/lib/datatables/cdn.datatables.net/buttons/1.2.2/js/buttons.html5.min.js}"></script>
    <script th:src="@{/js/lib/datatables/cdn.datatables.net/buttons/1.2.2/js/buttons.print.min.js}"></script>
    <script th:src="@{/js/lib/datatables/datatables-init.js}"></script>
    
</th:block>

<!-- contents layout:fragment 정의 -->
<th:block layout:fragment="customContents">
	<div class="row">
		<div class="col-12">
			 <div class="card">
			 	<form th:action="@{/report/penaltyDelete}" method="post" id="penaltyForm">
			 		<div class="card-haed" style="float: right">
						<a th:href="@{/report/penaltyInsert}" class="btn btn-primary btn-flat btn-addon m-b-10 m-l-5"><i class="ti-plus"></i> 벌점 등록하기</a>			 			
			 		</div>
		            <div class="card-body">
		                <div class="table-responsive m-t-40">
		                    <table id="myTable" class="table table-bordered table-striped">
		                        <thead>
		                            <tr>
		                                <th>벌점코드</th>
		                                <th>벌점 기준 코드</th>
		                                <th>벌점</th>
		                                <th>벌점 적용 날짜</th>	                                                              	                              	                                                              	                                                                                         	                              	                                                              	                               
		                                <th>벌점대상자</th>
		                                <th>벌점 부과자</th>
		                                <th data-orderable="false">삭제</th>
		                            </tr>
		                        </thead>
		                        <tbody>
		                        	<tr th:each="p : ${penaltyList}">
			                            <td th:text="${p.penaltyCode}"></td>
			                            <td th:text="${p.penaltyStandard}"></td>
			                            <td th:text="${p.reportAccuScore}"></td>
			                            <td th:text="${p.penaltyCheckDate}"></td>
			                            <td th:text="${p.penaltyId}"></td>           
			                            <td th:text="${p.memberId}"></td>           
			                            <td><a href="#none;" class="deleteBtn btn btn-danger btn-outline ti-trash text-white" id="reportDelBtn" th:onclick="penaltyDel([[${p.penaltyCode}]])"></a></td>
		                            </tr>
		                        </tbody>
		                    </table>
		                </div>
		            </div>
	            </form>
	        </div>
		</div>
	</div>
</th:block>

<th:block layout:fragment="customJsLib">
	<Script type="text/javascript">
		//삭제버튼 alert창
	   function penaltyDel(penaltyCode){
	   		if(confirm("정말 삭제하시겠습니까?")){
	   			location.href = '/report/penaltyDelete?penaltyCode='+penaltyCode;
	   			return true;
	   		}else{
	   			return false;
	   		}
	   		
	   	}
	</Script>




	<!-- <script src="js/lib/owl-carousel/owl.carousel.min.js"></script>
	<script src="js/lib/owl-carousel/owl.carousel-init.js"></script> -->	    
</th:block>



</html>