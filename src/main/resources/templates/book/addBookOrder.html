<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="@{layout/default}">

<th:block layout:fragment="customCss">
	<style type="text/css">
		input[type="checkbox"] {
			position: absolute;
			width: 1px;
			height: 1px;
			padding: 0;
			margin: -1px;
			overflow: hidden;
			clip:rect(0,0,0,0);
			border: 0
			
			
}
	</style>
</th:block>

<th:block layout:fragment="customTitle">
	<title th:text="${title}"></title>
</th:block>

<!-- contents layout:fragment 정의 -->
<th:block layout:fragment="customContents">



            <!-- Container fluid  -->
            <div class="container-fluid">
	                <!-- Start Page Content -->
	                <div class="row">
	                    <div class="col-lg-8">
	                        <div class="card card-outline-primary">
	                            <div class="card-header">
	                                <h4 class="m-b-0 text-white">주문 정보 입력</h4>
	                            </div>
	                            <div class="card-body">
	                                <form action="/addbook_member" id="addBookOrdForm" class="form-horizontal"  method="post">
	                                    <div class="form-body">
	                                        <hr class="m-t-0 m-b-40">
	                                        <div class="row">
	                                        	<!--start 메뉴선택-->
	                                            <div class="col-md-12">
	                                                <div class="form-group row">
	                                                    <label class="control-label text-right col-md-3">메뉴선택</label>
														  <div class="col-md-6" >	
															<div class="card-body">
																
																<!-- start메인메뉴 -->
																
																<ul class="nav nav-tabs customtab" role="tablist">
																	<li class="nav-item active"> 
																		<a class="nav-link " data-toggle="tab" href="#tab1" role="tab">
																			<span class="hidden-sm-up">
																			<i class="ti-home"></i>
																			</span> 
																			<span class="hidden-xs-down">메인 메뉴</span>
																		</a> 
																	</li>
																	<li class="nav-item"> 
																		<a class="nav-link" data-toggle="tab" href="#tab2" role="tab">
																			<span class="hidden-sm-up">
																			<i class="ti-user"></i>
																			</span> 
																			<span class="hidden-xs-down">사이드메뉴</span>
																		</a> 
																	</li>
																</ul>
																
																<!-- end메인메뉴 -->
																
																<div class="tab-content">
																
																	<!-- 메뉴선택 메인메뉴탭 start -->
																	<div class="tab-pane active" id="tab1" role="tabpanel">
																		<div class="p-20">
																			<th:block th:if="${#lists.size(menuList) > 0}" th:each="m : ${menuList}">
																				<th:block th:if="${m.menuCateCode == 'm_c_main'}">
																					<div class="form-check">
																						<div class="checkbox">
																							<label style="cursor:pointer;">
																								<input type="checkbox" name="menuLis" th:value="${m.menuName}" class="form-check-input" th:text="${m.menuName+' '+m.menuPrice}" th:data-menuCode="${m.menuCode}">
																							</label>
																						</div>
																					</div>
																				</th:block>
																			</th:block>
																		</div>
																	</div>
																	<!-- 메뉴선택 메인메뉴탭 end -->
																	<!-- 메뉴선택 사이드메뉴탭 start-->
																	<div class="tab-pane  p-20" id="tab2" role="tabpanel">
																		<div class="p-20">
																			<th:block th:if="${#lists.size(menuList) > 0}" th:each="m : ${menuList}">
																				<th:block th:if="${m.menuCateCode == 'm_c_side'}">
																					<div class="form-check">
																						<div class="checkbox">
																							<label>
																								<input type="checkbox" id="checkLa" name="menuLis" th:text="${m.menuName+' '+m.menuPrice}" th:value="${m.menuName}" class="form-check-input" th:data-menuCode="${m.menuCode}"/>
																							</label>	
																						</div>
																					</div>
																				</th:block>
																			</th:block>
																		</div>
																	</div>
																	
																	<!-- 메뉴선택 사이드메뉴탭 end -->
																</div>
																<small class="form-control-feedback"> 원하시는 메뉴를 선택해주세요. </small>
															</div>
														</div>
	                                                </div>
	                                            </div>
	                                            <!--end 메뉴선택-->
	                                            
	                                            
	                                            
	                                            <!--start 수량선택-->
	                                            <div class="col-md-12">
	                                                <div class="form-group row">
	                                                    <label class="control-label text-right col-md-3">수량선택</label>
		                                                    <div class="card">
																<div class="card-body">
																	<!-- 수량선택상세 -->
																	<div>
					                                                    <div id="menuN" class="col-md-12">
					                                                        	
					                                                    </div>
				                                                    </div>
				                                                    
				                                                    
				                                                    
				                                                    
																</div>
															</div>
	                                                </div>
	                                            </div>
	                                            <!--end 수량선택-->
	                                            
	                                            <!--start 요청사항-->
	                                            <div class="col-md-12">
	                                                <div class="form-group row">
	                                                    <label class="control-label text-right col-md-3">요청사항</label>
	                                                    <div class="col-md-6">
	                                                        <textarea name="orderReq" id="textarea-input" rows="20" class="form-control"></textarea>
	                                                    </div>
	                                                </div>
	                                            </div>
	                                            <!--end 요청사항-->
	                                            
	                                            
	                                            
	                                      </div>
	                                    </div>
	                                </form>
	                            </div>
	                        </div>
	                    </div>
	                    
	                    <!--주문내역-->
		               <div class="col-lg-4">
							<div class="card">
								<div class="card-header user-header alt bg-dark">
								<strong class="card-title">주문 내역</strong>
								</div>
								<div class="card-body" style="padding: 5px; text-align: center;">
		                               <table class="table">
			                                 <tbody>
			                                   <tr>
			                                       <th scope="row">메뉴 </th>
			                                       <th scope="row">수량</th>
			                                       <td>가격</td>
			                                   </tr>
			                                   <tr>
			                                       <th scope="row">해물짬뽕  </th>
			                                       <th scope="row">2</th>
			                                       <td>16000</td>
			                                   </tr>
			                                   <tr>
			                                       <th scope="row">자장면</th>
			                                       <th scope="row">1</th>
			                                       <td>6000</td>
			                                   </tr>
			                                   <tr  style="border-top: 2px solid #5A78AF">
			                                       <th scope="row">총 결제금액</th>
			                                       <td colspan="2">22000</td>
			                                   </tr>
			                               </tbody>
		                               </table>
								</div>
							</div>
							<div class="offset-sm-3 col-sm-9">
								<button type="submit" id="addBookOrdBtn" class="btn btn-dark">결제하기</button>
								<button type="button" class="btn btn-pink">이전</button>
							</div>
		               </div>
		               <!--/주문내역-->
		               
	               </div>
	               
            </div>
            <!-- End Container fluid  -->

</th:block>





<th:block layout:fragment="customJsLib">

	<script type="text/javascript">
	
	/* 주문정보입력화면 수량체크 */
	$(function(){
		$('.form-check-input').on('click', function(){
			console.log('수량선택 시작');
			var menuN = $('#menuN');
			var html = '';
			var menuCode = $(this).attr('data-menuCode');
			
			if(menuN.find('.'+menuCode).length == 0){				
				html += '<section class="'+menuCode+'">';
				html += $(this).val() + ' : <input type="number" id="prin" name="menuNum" value="1" style="width:60px;" onkeyup="printName()">개';
				html += '<button type="button" class="menu-target-remove btn btn-rink btn-sm">X</button>';
				html += '</section>';
				
				menuN.append(html);
			}
		});
	});
	
	$(document).on('click','.menu-target-remove', function(){
		$(this).parent().remove();
	});
	
	
	/* 수량값 입력하면 오른쪽화면에 바로 반영*/
	function printName()  {
	  const name = document.getElementById('prin').value;
	  document.getElementById("result").innerText = prin;
	}
	
	
	/* 예약자 정보 화면 유효성검사 */
	$(function(){
			$('#addBookOrdBtn').click(function(){
				
				if($("input[name=orderReq]:checkbox:checked").length < 0){
					alert('메뉴를 선택해주세요.');
					return false;
				}
				
				alert('결제화면 으로 이동됩니다.')
				$('#').submit();	
			});
		});
	
	
	
/* 	$(function(){
		$('input[name="menuLis"]').change(function() {
			var checked = $(this).prop('checked');
			var menuN = $('#menuN');
			var html = '';
			var menuCode = $(this).attr('data-menuCode');
			
			if(checked){
				if(menuN.find('.'+menuCode).length == 0){
					html += '<section class="'+menuCode+'">';
					html += $(this).val() + ' : <input type="number" name="menuNum" value="1" style="width:60px;">개';
				
					menuN.append(html);
				}
			}else{
					$(this).val().remove();
			}
				
		});
	}); */
	
	
	

	
	</script>

	<!-- <script src="js/lib/owl-carousel/owl.carousel.min.js"></script>
    <script src="js/lib/owl-carousel/owl.carousel-init.js"></script> -->
    
</th:block>
</html>

