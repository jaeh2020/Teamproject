<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="@{layout/default}">

<th:block layout:fragment="customTitle">
	<title th:text="${title}"></title>
</th:block>

<!-- contents layout:fragment 정의 -->
<th:block layout:fragment="customContents">

	

            <!-- Container fluid  -->
            <div class="container-fluid">
	                <!-- Start Page Content -->
	                <div class="row">
	                    <div class="col-lg-12">
	                        <div class="card card-outline-primary">
	                            <div class="card-header">
	                                <h4 class="m-b-0 text-white">예약자 정보 입력</h4>
	                            </div>
	                            
		                            <div class="card-body">
			                           
			                                <form id="addBookMemForm" th:action="@{/book/addBookMember}" method="post" class="form-horizontal" >
			                                    <div class="form-body">
			                                        <hr class="m-t-0 m-b-40">
			                                        <div class="row">
			                                        	<!-- 히든 -->
			                                        	<!-- <input type="hidden" name="bookCode" th:value="${bookCode}"> -->
			                                        	<input type="hidden" name="storeCode" th:value="${store.storeCode}">
			                                        	<input type="hidden" name="userId" th:value="${memberId}">
			                                        	<input type="hidden" name="stateCode" th:value="${statement.stateCode}">
			                                        	
			                                        	<!--매장명-->
			                                            <div class="col-md-12">
			                                                <div class="form-group row">
			                                                    <label class="control-label text-right col-md-3">
			                                                    	매장명
			                                                    </label>
			                                                    <div class="col-md-6">
			                                                        <input type="text" name="storeName" class="form-control" th:value="${store.storeName}" readonly="readonly">   
			                                                    </div>
			                                                </div>
			                                            </div>
			                                            <!--/매장명-->
			                                            
			                                            <!--예약자명-->
			                                            <div class="col-md-12">
			                                                <div class="form-group has-danger row">
			                                                    <label class="control-label text-right col-md-3">예약자명</label>
			                                                    <div class="col-md-6">
			                                                        <input type="text" name="bookUserName" class="form-control form-control-danger">
			                                                        <small class="form-control-feedback"> 주문자 성함을 입력해 주세요. </small> 
			                                                    </div>
			                                                </div>
			                                            </div>
			                                            <!--/예약자명-->
			                                			<!--연락처-->
			                                            <div class="col-md-12">
			                                                <div class="form-group row">
			                                                    <label class="control-label text-right col-md-3">연락처</label>
			                                                    <div class="col-md-6">
			                                                        <input type="text" name="bookUserPhone" class="form-control form-control-danger">
			                                                        <small class="form-control-feedback"> 000-000-0000 형태로 작성 / </small>
			                                                        <small class="form-control-feedback"> 입력하신 연락처로 알림메세지가 발송됩니다. </small> </div>
			                                                </div>
			                                            </div>
			                                            <!--/연락처-->
			                              				<!--/예약 인원 수-->
			                                            <div class="col-md-12">
			                                                <div class="form-group row">
			                                                    <label class="control-label text-right col-md-3">예약인원 수</label>
			                                                    <div class="col-md-6">
			                                                        <select class="form-control custom-select" name="bookPeoNum" data-placeholder="Choose a Category" tabindex="1">
			                                                            <option value="0"> :: 인원 수 선택 ::</option>
			                                                            <option value="1">1인</option>
			                                                            <option value="2">2인</option>
			                                                            <option value="3">3인</option>
			                                                            <option value="4">4인</option>
			                                                            <option value="5">5인</option>
			                                                            <option value="6">6인</option>
			                                                            <option value="7">7인</option>
			                                                            <option value="8">8인</option>
			                                                            <option value="9">9인</option>
			                                                            <option value="10">10인 이상</option>
			                                                        </select>
			                                                        <small class="form-control-feedback"> 예약인원 수를 선택 해주세요. </small>
			                                                    </div>
			                                                </div>
			                                            </div>
			                                            <!-- start 포장여부 -->
				                                            <div class="col-md-12">
					                                            <label class="control-label text-right col-md-3">포장여부</label>
					                                            <label>
					                                            <input type="checkbox" name="bookPickup" value="1"> 방문식사 
					                                            </label>
					                                            <label>
					                                            <input type="checkbox" name="bookPickup" value="2"> 포장
				                                            	</label>
				                                            </div>
			                                            <!-- end포장여부 -->
			
			 
			                                            	<div class="offset-sm-3 col-sm-9">
			                                            			<!-- <a th:href="@{/book/addBookOrder(bookCode=${bookList.bookCode})}"> -->
																	<button type="submit" class="btn btn-dark" id="addBookMemBtn">다음</button>
																	<!-- </a> -->
																	<a th:href="@{/}">
																	<button type="button" class="btn btn-pink bookCancleBtn">취소</button>
																	</a>
															</div>
			
														
			                                        </div>
			                                    </div>
			                                </form>
		                                
		                            </div>
	                        </div>
	                    </div>
	               </div> 
            </div>
            <!-- End Container fluid  -->
            
            
	

</th:block>

<th:block layout:fragment="customJsLib">

	<script type="text/javascript">
	
	
	/* 포장여부 체크박스 복수선택 불가 경고창 */
		$(document).ready(function() {
		    $('input[type="checkbox"][name="bookPickup"]').click(function(){
		        if ($(this).prop('checked')
		        && $("input[name=bookPickup]:checkbox:checked").length > 1) {
		            $(this).prop('checked', false);
		        alert('두개 이상 선택할 수 없습니다.');
		        }
		    });
		});  
	
	
	
	/* 예약자 정보 화면 유효성검사 */
	$(function(){
			$('#addBookMemBtn').click(function(){
				
				var bookUserName = $('[name=bookUserName]');
				var bookUserPhone = $('[name=bookUserPhone]');
				var bookPeoNum = $('[name=bookPeoNum]');
				
				if(bookUserName.val().trim() == ''){
					alert('예약자 성함을 입력해주세요.');
					bookUserName.focus();
					return false;
					
				}else if(bookUserPhone.val().trim() == ''){
					alert('연락처를 입력해주세요.');
					bookUserPhone.focus();
					return false;
					
				}else if(bookPeoNum.val() == 0){
					alert('예약하실 인원수를 선택해주세요.');
					return false;
					
				}else if($("input[name=bookPickup]:checkbox:checked").length == 0){
					alert('포장여부를 선택해주세요.');
					return false;
				}
				alert('주문정보 입력 화면으로 이동됩니다.')
				$('#addBookMemForm').submit();	
			});
		});
	</script>
	
	<!-- <script src="js/lib/owl-carousel/owl.carousel.min.js"></script>
    <script src="js/lib/owl-carousel/owl.carousel-init.js"></script> -->
    
</th:block>
</html>